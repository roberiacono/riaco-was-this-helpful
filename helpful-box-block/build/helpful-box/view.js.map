{"version":3,"file":"helpful-box/view.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAA,OAAO,CAACC,GAAG,CAAC,0DAA0D,CAAC;AACvE;;AAEAC,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAUC,CAAC,EAAE;EAClCA,CAAC,CAACF,QAAQ,CAAC,CAACG,EAAE,CACZ,OAAO,EACP,gDAAgD,EAChD,UAAUC,CAAC,EAAE;IACXA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,MAAM,GAAGJ,CAAC,CAAC,IAAI,CAAC;IACtB,MAAMK,OAAO,GAAGD,MAAM,CAACE,QAAQ,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,CAAC;IAE5DN,CAAC,CAACF,QAAQ,CAAC,CAACS,OAAO,CAAC,gBAAgB,CAAC;IAErCP,CAAC,CAACQ,IAAI,CAAC;MACLC,IAAI,EAAE,MAAM;MACZC,GAAG,EAAEC,aAAa,CAACC,QAAQ;MAC3BC,IAAI,EAAE;QACJC,MAAM,EAAE,qBAAqB;QAC7BC,OAAO,EAAEJ,aAAa,CAACK,MAAM;QAC7BX,OAAO,EAAEA,OAAO;QAChBY,KAAK,EAAEN,aAAa,CAACM;MACvB,CAAC;MACDC,OAAO,EAAE,SAAAA,CAAUC,QAAQ,EAAE;QAC3BxB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEuB,QAAQ,CAAC;QACjC,IAAIA,QAAQ,CAAC,YAAY,CAAC,IAAIA,QAAQ,CAAC,SAAS,CAAC,EAAE;UACjDnB,CAAC,CAACF,QAAQ,CAAC,CAACS,OAAO,CAACY,QAAQ,CAAC,SAAS,CAAC,EAAE;YACvCC,UAAU,EAAED,QAAQ,CAAC,YAAY,CAAC;YAClCE,OAAO,EAAEF,QAAQ,CAAC,SAAS;UAC7B,CAAC,CAAC;QACJ,CAAC,MAAM,IAAIA,QAAQ,CAAC,SAAS,CAAC,EAAE;UAC9BnB,CAAC,CAACF,QAAQ,CAAC,CAACS,OAAO,CAACY,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC1C;QAEA,IAAI,OAAOG,aAAa,KAAK,WAAW,EAAE;UACxCA,aAAa,CAACC,IAAI,CAACZ,aAAa,CAACK,MAAM,CAAC;UACxCQ,SAAS,CAAC,sBAAsB,EAAEF,aAAa,CAACG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;QACjE;MACF;IACF,CAAC,CAAC;EACJ,CACF,CAAC;AACH,CAAC,CAAC,C","sources":["webpack://helpful-box-block/./src/helpful-box/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\nconsole.log(\"Hello World! (from create-block-helpful-box-block block)\");\n/* eslint-enable no-console */\n\njQuery(document).ready(function ($) {\n  $(document).on(\n    \"click\",\n    \".riwth-helpful-feedback-block .wp-block-button\",\n    function (e) {\n      e.preventDefault();\n      const button = $(this);\n      const helpful = button.hasClass(\"riwth-helpful-yes\") ? 1 : 0;\n\n      $(document).trigger(\"showSubmitting\");\n\n      $.ajax({\n        type: \"POST\",\n        url: riwth_scripts.ajax_url,\n        data: {\n          action: \"riwth_save_feedback\",\n          post_id: riwth_scripts.postId,\n          helpful: helpful,\n          nonce: riwth_scripts.nonce,\n        },\n        success: function (response) {\n          console.log(\"response\", response);\n          if (response[\"feedbackId\"] && response[\"trigger\"]) {\n            $(document).trigger(response[\"trigger\"], {\n              feedbackId: response[\"feedbackId\"],\n              content: response[\"content\"],\n            });\n          } else if (response[\"trigger\"]) {\n            $(document).trigger(response[\"trigger\"]);\n          }\n\n          if (typeof feedbackArray !== \"undefined\") {\n            feedbackArray.push(riwth_scripts.postId);\n            setCookie(\"riwth_feedback_given\", feedbackArray.join(\",\"), 365);\n          }\n        },\n      });\n    }\n  );\n});\n"],"names":["console","log","jQuery","document","ready","$","on","e","preventDefault","button","helpful","hasClass","trigger","ajax","type","url","riwth_scripts","ajax_url","data","action","post_id","postId","nonce","success","response","feedbackId","content","feedbackArray","push","setCookie","join"],"sourceRoot":""}